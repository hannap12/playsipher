"use strict";(globalThis.webpackChunk_zendesk_web_widget_messenger=globalThis.webpackChunk_zendesk_web_widget_messenger||[]).push([[198],{69738:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(15826);const i=()=>{const[e,t]=(0,r.useState)(Math.round(100*window.devicePixelRatio)),n=()=>{t(Math.round(100*window.devicePixelRatio))};return(0,r.useEffect)((()=>(window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)})),[]),{scale:e>=400?.5:1,isZoomedIn:e>=400}}},59563:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(29798),i=n(12682),o=n(21110),s=n(69738),a=n(40707),c=n(40711),l=n(65611),d=n(57957),m=n(55786);const u=e=>{let{children:t,ariaLabel:n}=e;const u=(0,r.v9)(d.bt),h=(0,r.v9)(d.KK),g=(0,r.v9)(c.H0),{vertical:f,horizontal:p}=(0,r.v9)(d.Xf),b=f>o.rR,w=a.Z.isRTL()?"rtl":"ltr",{isZoomedIn:v}=(0,s.Z)();return(0,m.jsx)("div",{"aria-label":n,style:{display:"flex",flexDirection:"column",zIndex:h,bottom:g===i._c.none?f:(0,l.b)(Number(f)),position:"fixed",[u]:p,direction:w,alignItems:"end",gap:o.$i,...v&&b&&{bottom:(0,l.b)(Number(o.rR))}},children:t})}},68566:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(21110),i=n(55786);const o=e=>{let{children:t}=e;return(0,i.jsx)("div",{style:{display:"flex",gap:r.$i},children:t})}},24489:(e,t,n)=>{n.d(t,{Z:()=>h});var r=n(15826),i=n(29798),o=n(13672),s=n(21110),a=n(65611),c=n(65083),l=n(92795),d=n(13297),m=n(57120),u=n(55786);const h=(0,r.forwardRef)(((e,t)=>{let{children:n,title:h}=e;const g=(0,i.v9)(c.l)?s.lH:s.XE,{height:f,width:p}=(0,r.useMemo)((()=>({height:(0,d.Z)(a.yx,g),width:(0,d.Z)(a.yx,g)})),[g]);return(0,u.jsx)(o.ZP,{title:h,style:{height:f,width:p,border:0,backgroundColor:"transparent",boxShadow:a.N7,borderRadius:"100%",verticalAlign:"unset",opacity:0,alignSelf:"end"},ref:t,children:(0,u.jsxs)(l.Z,{children:[(0,u.jsx)(m.n,{}),n]})})}))},5527:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(15826),i=n(29798),o=n(13672),s=n(21110),a=n(65611),c=n(65083),l=n(92795),d=n(57957),m=n(13297),u=n(57120),h=n(55786);const g=(0,r.forwardRef)(((e,t)=>{let{children:n,title:g,messageFrameWidth:f,maxWidth:p,messageFrameHeight:b}=e;const w=(0,i.v9)(c.l)?s.lH:s.XE,v=(0,i.v9)(d.bt),{borderRadius:x}=(0,r.useMemo)((()=>({borderRadius:(0,m.Z)(a.wR,w)})),[w]);return(0,h.jsx)(o.ZP,{ref:t,title:g,style:{width:f,height:b,maxWidth:p,overflow:"auto",border:0,backgroundColor:"transparent",boxShadow:a.N7,borderRadius:x,display:"inline-block",verticalAlign:"unset",transformOrigin:`bottom ${String(v)}`},children:(0,h.jsxs)(l.Z,{children:[(0,h.jsx)(u.n,{}),(0,h.jsx)(u.z,{}),n]})})}))},57120:(e,t,n)=>{n.d(t,{n:()=>i,z:()=>o});var r=n(17255);const i=(0,r.vJ)(["html{background-color:transparent;}"]),o=(0,r.vJ)(["body{opacity:0;}"])},21062:(e,t,n)=>{n.d(t,{E:()=>r});const r=n(17255).ZP.div.withConfig({componentId:"sc-9qme4p-0"})(["text-align:center;overflow:auto;max-height:","px;"],(e=>e.maxMessageContainerHeight))},66064:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(15826),i=n(29798),o=n(65611),s=n(99377),a=n(4755);const c=1e3*s.e+50,l=e=>{let{isLabelVisible:t,refs:n}=e;const s=(0,i.v9)(a.FB),l=(0,r.useRef)(0);(0,r.useLayoutEffect)((()=>{l.current=Date.now()}),[s]);const d=(0,r.useCallback)((e=>{const{closeFrame:t,messageFrame:r,avatarFrame:i}=n.current;if(!r?.animate)return;r.style.opacity="0",r.style.transform="scale(0)",t&&(t.style.opacity="0"),i&&(i.style.opacity="0");r.animate([{transform:"scale(0)",opacity:0},{transform:"scale(1)",opacity:1}],{...o.Vd,delay:e?750:0}).onfinish=()=>{r&&r.contentDocument&&(r.contentDocument.body.animate(o.dS,o.Vd),n.current.avatarFrame&&(n.current.avatarFrame.style.opacity="1",n.current.avatarFrame.animate(o.dS,o.Vd)),n.current.closeFrame&&(n.current.closeFrame.style.opacity="1",n.current.closeFrame.animate(o.dS,o.Vd)),r.contentDocument.body.style.opacity="1")}}),[n]);(0,r.useLayoutEffect)((()=>{const{messageFrame:e}=n.current;if(t){if(t){const e=Date.now()-l.current<c;d(e)}}else e?.contentDocument&&(e.contentDocument.body.style.opacity="0")}),[t]);return{onClickAnimate:e=>{const{messageFrame:t,avatarFrame:r}=n.current;if(!t?.animate)return void e();r?.animate([{opacity:0}],{delay:100,fill:"forwards"});t.animate([{transform:"scale(1)"},{transform:"scale(0.95)",opacity:1},{transform:"scale(1)",opacity:0}],200).onfinish=e},animateHide:e=>{const{closeFrame:t,messageFrame:r,avatarFrame:i}=n.current;if(!r?.animate)return void e();t?.animate([{opacity:0}],200),i?.animate([{opacity:0}],200);r.animate([{opacity:0}],200).onfinish=e}}}},78005:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(15826),i=n(29798),o=n(21110),s=n(65611),a=n(57957),c=n(78473);const l=()=>{const{innerWidth:e,innerHeight:t}=c.parentWindow;return{width:e,height:t}},d=()=>{const[e,t]=(0,r.useState)(l());return(0,r.useEffect)((()=>{const e=function(e,t){let n=0;return function(){const r=new Date;r.getTime()-n>=t&&(e(...arguments),n=r.getTime())}}((()=>{t(l())}),200);return c.parentWindow.addEventListener("resize",e),()=>c.parentWindow.removeEventListener("resize",e)}),[]),e};var m=n(69738);const u=e=>{let{refs:t,isIconNextToMessage:n}=e;const[c,l]=(0,r.useState)(0),[u,h]=(0,r.useState)(0),g=(0,m.Z)(),{vertical:f,horizontal:p}=(0,i.v9)(a.Xf),b=f>o.rR,w=d(),v=w.width-(n?s.$l+o.$i:0)-o.uu-(g.isZoomedIn&&b?o.rR:p),x=Math.min(s.Oz,v),y=w.height-(0,s.b)(g.isZoomedIn?0:f)-o.$i-(t.current?.closeFrame?.clientHeight?o.$i+t.current?.closeFrame?.clientHeight:0);return{maxWidth:x,messageFrameWidth:Math.min(c,v),messageFrameHeight:Math.min(u,y),messageContainerHeight:w.height-(t.current?.closeFrame?s.yx+o.$i:0)-(0,s.b)(g.isZoomedIn?0:f)-o.$i,setFrameDimensions:e=>{if(e.current){const t=e.current.getBoundingClientRect();l(t.width),h(t.height)}}}}},83839:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(15826),i=n(17255);const o=()=>(0,r.useContext)(i.Ni).messenger.labels},93074:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(98049),i=n.n(r),o=n(15826),s=n(17255);const a=s.ZP.button.withConfig({componentId:"sc-1ee9gtf-0"})(["padding:",";border:0;width:max-content;max-width:",";overflow-wrap:break-word;word-break:break-word;background:",";color:",";border-radius:",";text-align:initial;&:focus,&:active{outline:0;}&:focus{outline:none;}&[data-garden-focus-visible]{box-shadow:inset ",";}"],(e=>e.isTitleVisible?`${e.theme.messenger.space.sixteen} ${e.theme.messenger.space.sm} ${e.theme.messenger.space.sm}`:e.theme.messenger.space.sm),(e=>""+("number"==typeof e.maxWidth?`${e.maxWidth}px`:"auto")),(e=>e.theme.palette.white),(e=>e.theme.messenger.colors.otherParticipantMessageText),(e=>e.theme.messenger.borderRadii.textMessage),(e=>e.theme.shadows.md(e.theme.messenger.colors.action))),c=s.ZP.h1.withConfig({componentId:"sc-1ee9gtf-1"})(["margin-bottom:",";color:",";font-size:",";line-height:",";opacity:0.65;"],(e=>e.theme.messenger.space.xs),(e=>e.theme.palette.black),(e=>e.theme.messenger.fontSizes.sm),(e=>e.theme.messenger.lineHeights.sm)),l=s.ZP.span.withConfig({componentId:"sc-1ee9gtf-2"})(["font-size:",";line-height:",";"],(e=>e.theme.messenger.fontSizes.md),(e=>e.theme.messenger.lineHeights.md));var d=n(55786);const m=e=>{let{title:t,message:n,ariaLabel:r,maxWidth:i,onClick:s,onRender:m}=e;const u=(0,o.useRef)();return(0,o.useLayoutEffect)((()=>{m?.(u)})),(0,d.jsxs)(a,{maxWidth:i,onClick:s,ref:u,"aria-label":r,isTitleVisible:Boolean(t),children:[t&&(0,d.jsx)(c,{children:t}),(0,d.jsx)(l,{children:n})]})};m.propTypes={title:i().node,ariaLabel:i().string,message:i().node.isRequired,maxWidth:i().number,onClick:i().func.isRequired,onRender:i().func};const u=(0,s.ZP)(m).withConfig({componentId:"sc-15hwucc-0"})([""])},39707:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(98049),i=n.n(r),o=n(17255),s=(n(15826),n(69947)),a=n(55786),c=function(e){return(0,a.jsx)("svg",{...e,children:(0,a.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",d:"M3 13L13 3m0 10L3 3"})})};c.defaultProps={xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",focusable:"false",viewBox:"0 0 16 16"};const l=o.ZP.button.withConfig({componentId:"sc-1uf0igr-0"})(["border:0;background:",";color:",";border-radius:",";display:flex;align-items:center;justify-content:center;opacity:0.8;width:",";height:",";transform-origin:bottom;&:focus,&:active,&:hover{opacity:1;}&[data-garden-focus-visible]{box-shadow:inset ",";outline:none;}"],(e=>e.theme.palette.white),(e=>e.theme.messenger.colors.iconColor),(e=>e.theme.messenger.borderRadii.textMessage),(e=>e.theme.messenger.iconSizes.xxl),(e=>e.theme.messenger.iconSizes.xxl),(e=>e.theme.shadows.md(e.theme.messenger.colors.action))),d=(0,o.ZP)(c).withConfig({componentId:"sc-1uf0igr-1"})(["width:",";height:",";"],(e=>(0,s.hO)(16,e.theme.messenger.baseFontSize)),(e=>(0,s.hO)(16,e.theme.messenger.baseFontSize))),m=e=>{let{onClick:t,ariaLabel:n}=e;return(0,a.jsx)(l,{onClick:t,"aria-label":n,children:(0,a.jsx)(d,{})})};m.propTypes={onClick:i().func,ariaLabel:i().string};const u=(0,o.ZP)(m).withConfig({componentId:"sc-1xsbl6q-0"})([""])},13672:(e,t,n)=>{n.d(t,{ZP:()=>m});var r=n(98049),i=n.n(r),o=n(15826),s=n(744),a=n(17255),c=n(48829),l=n(55786);const d=o.forwardRef(((e,t)=>{let{children:n,rootElement:r,title:i,hidden:d,...m}=e;const[u,h]=(e=>{const t=(0,o.useRef)(null),n=(0,o.useCallback)((n=>{t.current=n,e&&("function"==typeof e?e(t.current):e.current=t.current)}),[t,e]);return[t,n]})(t),g=(0,o.useRef)(r),[f,p]=(0,o.useState)(!1),[b,w]=(0,o.useState)(!1);(0,o.useEffect)((()=>{const e=()=>{p(!0)};if("complete"===u.current.contentDocument.readyState)return void e();const t=u.current;return t.addEventListener("load",e),()=>t.removeEventListener("load",e)}),[u]),(0,o.useEffect)((()=>{if(!f)return;g.current||(g.current=document.createElement("div"));const e=g.current,t=u.current.contentDocument.body;return t.appendChild(e),w(!0),()=>{t.contains(e)&&t.removeChild(e)}}),[u,r,f]),(0,o.useEffect)((()=>{if(!b)return;const e=u.current.contentDocument;let t=e.querySelector("title");t||(t=e.createElement("title")),t.innerHTML="",t.appendChild(e.createTextNode(i)),e.querySelector("head").appendChild(t)}),[i,b,u]);const v={colorScheme:"light",...m.style};return f&&b&&!d||(v.display="none"),(0,l.jsx)("iframe",{ref:h,title:i,...m,style:v,children:f&&b&&(0,l.jsx)(a.LC,{target:u.current.contentDocument.querySelector("head"),children:(0,l.jsx)(c.ZP,{value:{document:u.current.contentDocument,window:u.current.contentWindow},children:!d&&s.createPortal(n,g.current)})})})}));d.propTypes={children:i().node,rootElement:i().instanceOf(Element),title:i().string.isRequired,hidden:i().bool,style:i().object};const m=d}}]);